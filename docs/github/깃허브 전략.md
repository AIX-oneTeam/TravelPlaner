# 브랜치 및 커밋 전략 정리

> 마지막 수정자: 조현진\
> 마지막 수정 날짜: 2025-01-14

---

## 목차

<!-- TOC -->

- [브랜치 및 커밋 전략 정리](#브랜치-및-커밋-전략-정리)
  - [목차](#목차)
  - [Pull Request 규칙](#pull-request-규칙)
  - [주된 브랜치 종류](#주된-브랜치-종류)
  - [브랜치 전략](#브랜치-전략)
  - [커밋 전략](#커밋-전략)
    - [기능 커밋 메시지](#기능-커밋-메시지)
    - [버그 수정 커밋 메시지](#버그-수정-커밋-메시지)
    - [테스트 커밋 메시지](#테스트-커밋-메시지)
    - [문서 작업 커밋 메시지](#문서-작업-커밋-메시지)
  - [`git`에 커밋 메시지 템플릿 설정 방법](#git에-커밋-메시지-템플릿-설정-방법)
  <!-- TOC -->

## Pull Request 규칙

1. Pull Request시 충돌이 일어나지 않는지 확인한다.\
   가. 충돌이 일어난다면, 해당 파일 작업자와 소통해 충돌을 해결하는 것을 원칙으로 한다.\
   나. 다만, 전혀 작업하지 않은 이전 버전의 파일에서 충돌이 일어난다면 해당 버전을 우선시 해 충돌을 해결할 수 있다.

2. 카카오톡에 Pull Request가 되었음을 알린다.

3. 2명이상의 코드리뷰와 승인을 얻는다.

4. 마지막에 승인을 진행한 사람은 Merge를 진행하되, dev브랜치에 새 버전이 생겼음을 카카오톡에 알린다.

## 주된 브랜치 종류

1. `main 브랜치`: 실제 서비스에 배포되는 브랜치

   - 최종 배포 버전만 포함.
   - 항상 안정적인 상태를 유지.
   - 배포 시 태그를 생성해 버전을 관리 (v1.0.0 형식).

2. `alpha 브랜치`: 알파 운영 테스트에 사용되는 브랜치

   - 알파 테스트 환경에서 사용.
   - 개발 브랜치에서 특정 시점의 코드를 병합.
   - QA 테스트와 간단한 검증에 사용.

3. `dev 브랜치`: 개발 브랜치
   - 개발 진행이 이루어지는 기본 브랜치.
   - 모든 기능 브랜치(feature)를 병합하기 전 테스트.

## 브랜치 전략

`dev` 브랜치에 붙여 작업 하는 것을 기본으로 하며, 각 기능별로 브랜치를 생성해 작업한다.

- 기능 브랜치는 `feature/이니셜-기능명-이슈번호` 형식으로 생성한다.
- 버그 수정 브랜치는 `bugfix/이니셜-버그명-이슈번호` 형식으로 생성한다.
- 문서 작업 브랜치는 `docs/이니셜-문서명-이슈번호` 형식으로 생성한다.

`기능`, `버그`, `문서` 명을 작성할 때는 `-` 케밥 케이스를 사용한다.

## 커밋 전략

커밋 메시지는 다음과 같은 형식으로 작성한다.

### 1. 커밋 행위

```text
Add: 기존에 없던 기능이나 문서 등이 추가 되었을 때
Fix: 기존에 있던 기능이나 문서 등이 수정(삭제 포함) 되었을 때
```

### 2. 커밋 대상

```text
[기능]: 기능을 대상으로 진행
[버그]: 존재하던 버그를 대상으로 진행
[테스트]: 테스트 코드를 대상으로 진행
[문서]: 문서를 대상으로 진행
```

## 예시

### 기능 커밋 메시지

```text
Add: [기능] #이슈번호 커밋 내용

- 기능 추가 내용 (추가 선택 사항)
- 기능 추가 내용 (추가 선택 사항)
```

### 버그 수정 커밋 메시지

```text
Fix: [버그] #이슈번호 커밋 내용

- 버그 수정 내용 (추가 선택 사항)
- 버그 수정 내용 (추가 선택 사항)
```

### 테스트 추가 커밋 메시지

```text
Add: [테스트] #이슈번호 커밋 내용

- 테스트 내용 (추가 선택 사항)
- 테스트 내용 (추가 선택 사항)
```

### 문서 수정 커밋 메시지

```text
Fix: [문서] #이슈번호 커밋 내용

- 문서 작업 내용 (추가 선택 사항)
- 문서 작업 내용 (추가 선택 사항)
```

## 참고 `git`에 커밋 메시지 템플릿 설정 방법

프로젝트 경로에서 `.gitmessage` 파일을 생성하고 아래의 명령어를 실행한다.

```bash
$ git config --local commit.template .gitmessage
```
